{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","service/persons.js","components/App.js","index.js"],"names":["Filter","filter","onFilterChange","value","onChange","PersonForm","addName","newName","onNameChange","newNumber","onNumberChange","onSubmit","type","Person","person","action","name","number","key","onClick","Persons","persons","map","toLowerCase","includes","Notification","message","msg","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","useEffect","personsService","initialPersons","catch","error","console","log","showMessage","setTimeout","evt","target","preventDefault","newEntry","some","elem","window","confirm","targetPerson","find","concat","returned","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9a45a7b3.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({filter, onFilterChange}) =>\n      <div>\n          filter shown with:\n          <input\n              value={filter}\n              onChange={onFilterChange} />\n      </div>;\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({addName, newName, onNameChange, newNumber, onNumberChange}) =>\n      <form onSubmit={addName}>\n          <div>\n              name:\n              <input value={newName}\n                     onChange={onNameChange} />\n          </div>\n          <div>\n              number:\n              <input value={newNumber}\n                     onChange={onNumberChange} />\n          </div>\n          <div>\n              <button type=\"submit\">add</button>\n          </div>\n      </form>;\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Person = ({person, action}) => {\n    const {name, number} = person;\n    return (\n        <div>\n            <span key={name}>{name} {number}</span>\n            <button value={name} onClick={action}>delete</button>\n        </div>\n    );\n};\n\nconst Persons = ({persons, filter, action}) => {\n    return (\n        <>\n            { persons.map(person =>\n                          (person.name && person.name.toLowerCase().includes(filter.toLowerCase()))?\n                          <Person key={person.name} person={person} action={action} />: '')}\n        </>\n    );\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n    const {type, msg} = message;\n    if (msg === null) {\n        return null;\n    }\n    \n    return (\n        <div className={\"notification \"+type}>\n            {msg}\n        </div>\n    );\n};\n\nexport default Notification;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    return axios\n        .get(baseUrl)\n        .then(response => response.data);\n};\n\nconst create = newObject => {\n    return axios\n        .post(baseUrl, newObject)\n        .then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n    return axios\n        .put(`${baseUrl}/${id}`, newObject)\n        .then(response => response.data);\n};\n\nconst remove = (id) => {\n    return axios\n        .delete(`${baseUrl}/${id}`)\n        .then(response => response.data);\n};\n\nexport default { getAll, create, update, remove };\n","import React, { useState, useEffect } from 'react';\nimport Filter from './Filter';\nimport PersonForm from './PersonForm';\nimport Persons from './Persons';\nimport Notification from './Notification';\nimport personsService from '../service/persons';\n\nconst App = () => {\n    const [ persons, setPersons] = useState([]);\n    const [ newName, setNewName ] = useState('');\n    const [ newNumber, setNewNumber ] = useState('');\n    const [ filter, setFilter ] = useState('');\n    const [ errorMessage, setErrorMessage ] = useState({type:'', msg:null});\n\n    const hook = () => {\n        personsService\n            .getAll()\n            .then(initialPersons => {\n                setPersons(initialPersons);\n            })\n            .catch(error => console.log(error));\n    };\n\n    useEffect(hook, []);\n\n    const showMessage = ({type, msg}) =>{\n        setErrorMessage({type, msg});\n        setTimeout(() => { setErrorMessage({msg:null}); }, 5000);\n    };\n    \n    const addName = (evt) => {\n        evt.preventDefault();\n        \n        const newEntry = {\n            name: newName,\n            number: newNumber\n        };\n\n        if(persons.some(elem => elem.name === newEntry.name)){\n\n            if(window.confirm(`${newEntry.name} is already added to phonebook, replace the old number with a new one?`)){\n                const targetPerson = persons.find(person => person.name === newEntry.name);\n                personsService\n                    .update(targetPerson.id, newEntry)\n                    .then(response => {\n                        setPersons(persons.map(person => person.id !== targetPerson.id? person: response));\n                        setNewName('');\n                        setNewNumber('');\n                        showMessage({type:'confirm', msg:`Updated details for ${response.name}`});\n                    })\n                    .catch(error => console.log(error) );\n            }\n        } else {\n            personsService\n                .create(newEntry)\n                .then(response => {\n                    setPersons(persons.concat(response));\n                    setNewName('');\n                    setNewNumber('');\n                    showMessage({type:'confirm', msg:`Successfully added ${response.name} to phonebookq`});\n                })\n                .catch(error => {\n                    showMessage({type:'error', msg:`${error.response.data.error}`});\n                });\n        }\n    };\n\n    const deleteName = (evt) => {\n        const targetPerson = persons.find(person => person.name === evt.target.value);\n\n        if(window.confirm(`Delete ${evt.target.value}`)){\n            personsService\n                .remove(targetPerson.id)\n                .then(returned => {\n                    setPersons(persons.filter(person => person.id !== targetPerson.id));\n                    showMessage({type:'confirm', msg:`Removed ${targetPerson.name} from phonebook`});\n                })\n                .catch(error => \n                       showMessage({type:'error', msg:`Information of ${targetPerson.name} has already been removed from server`})\n                      );\n        }\n    };\n\n    const onFilterChange = (evt) => setFilter(evt.target.value);\n    const onNameChange = (evt) => setNewName(evt.target.value);\n    const onNumberChange = (evt) => setNewNumber(evt.target.value);\n\n    return (\n        <>\n            <h2>Phonebook</h2>\n            <Notification message={errorMessage} />\n            <Filter\n                filter={filter}\n                onFilterChange={onFilterChange} />\n            \n            <h3>Add a new</h3>\n            <PersonForm\n                addName={addName}\n                newName={newName}\n                onNameChange={onNameChange}\n                newNumber={newNumber}\n                onNumberChange={onNumberChange}/>\n            \n            <h3>Numbers</h3>\n            <Persons\n                persons={persons}\n                filter={filter}\n                action={deleteName} />\n        </>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}